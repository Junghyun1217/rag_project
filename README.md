λΉ„μλ¦¬/κµμ΅ λ©μ  κ°•μ΅°: "λ³Έ ν”„λ΅μ νΈλ” μ·¨μ—… ν¬νΈν΄λ¦¬μ¤λ¥Ό μ„ν• κµμ΅ λ° μ—°κµ¬ λ©μ μΌλ΅λ§ μ‚¬μ©λμ—μΌλ©°, μƒμ—…μ μΈ λ©μ μΌλ΅ μ‚¬μ©λμ§€ μ•μµλ‹λ‹¤."

μ¤λ¦¬μ  μ±…μ„ λ…μ‹: "ν¬λ΅¤λ§ λ€μƒ μ‚¬μ΄νΈμ robots.txt λ° μ΄μ© μ•½κ΄€μ„ μ² μ €ν μ¤€μν•μ—¬ κ°λ°λμ—μΌλ©°, λ¬΄λ‹¨ μμ§‘ λ° μ„λ²„μ— λ¶€ν•λ¥Ό μ£Όλ” ν–‰μ„λ¥Ό μ§€μ–‘ν•©λ‹λ‹¤."

μ†μ¤ μ½”λ“μ μ±…μ„: "μ΄ μ½”λ“λ” νΉμ • μ‹μ μ ν…μ¤νΈ ν™κ²½μ„ μ¬ν„ν• κ²ƒμ΄λ©°, μ‹¤μ  μƒμ© ν™κ²½μ—μ„μ λ¬΄λ¶„λ³„ν• μ‚¬μ©μ„ κΈμ§€ν•©λ‹λ‹¤."

# π’» RAG κΈ°λ° μ ν’ λ¦¬λ·° λ¶„μ„ μ‹μ¤ν… (Qwen-4B, FAISS)

μ΄ ν”„λ΅μ νΈλ” **κ²€μƒ‰ μ¦κ°• μƒμ„±(RAG, Retrieval-Augmented Generation)** μ•„ν‚¤ν…μ²λ¥Ό μ‚¬μ©ν•μ—¬ λ°©λ€ν• μ ν’ λ¦¬λ·° λ°μ΄ν„°μ—μ„ μ‚¬μ©μμ μ§λ¬Έμ— κ°€μ¥ κ΄€λ ¨μ„± λ†’μ€ μ •λ³΄λ¥Ό κ²€μƒ‰ν•κ³ , λ€κ·λ¨ μ–Έμ–΄ λ¨λΈ(LLM)μΈ **Qwen-4B**λ¥Ό ν™μ©ν•μ—¬ μµμΆ…μ μΈ μ¶”μ² λ‹µλ³€μ„ μƒμ„±ν•λ” μ‹μ¤ν…μ…λ‹λ‹¤.

## β¨ μ£Όμ” κΈ°λ¥

* **λ°μ΄ν„° λ΅λ”© λ° μ •μ :** ν¬λ΅¤λ§λ JSON λ°μ΄ν„° (`documents.json`)λ¥Ό λ΅λ“ν•κ³  ν…μ¤νΈ μ •μ  μ‘μ—…μ„ μν–‰ν•©λ‹λ‹¤.
* **κ²€μƒ‰ λ¨λΈ κµ¬μ¶•:**
    * **Sparse Search (ν¬μ† κ²€μƒ‰) λ€λΉ„:** BM25 λ¨λΈ κµ¬μ¶•.
    * **Dense Search (λ°€μ§‘ κ²€μƒ‰):** μλ―Έ κΈ°λ° κ²€μƒ‰μ„ μ„ν• Sentence Transformer μ„λ² λ”© λ° **FAISS** μΈλ±μ¤ κµ¬μ¶•.
* **LLM κΈ°λ° λ‹µλ³€ μƒμ„±:** κ²€μƒ‰λ λ¬Έλ§¥(Context)μ„ Qwen/Qwen3-4B λ¨λΈμ— μ „λ‹¬ν•μ—¬ μ‚¬μ©μμ κµ¬μ²΄μ μΈ μ§λ¬Έμ— λ€ν• λ§μ¶¤ν• μ¶”μ² λ‹µλ³€μ„ μƒμ„±ν•©λ‹λ‹¤.

## β™οΈ ν™κ²½ μ„¤μ • λ° μ„¤μΉ

ν”„λ΅μ νΈ μ‹¤ν–‰μ€ **Python κ°€μƒ ν™κ²½** λ‚΄μ—μ„ μ§„ν–‰ν•λ” κ²ƒμ„ κ¶μ¥ν•©λ‹λ‹¤.

### 1. κ°€μƒ ν™κ²½ μƒμ„± λ° ν™μ„±ν™”

ν”„λ΅μ νΈ ν΄λ”(`C:\Users\darkz\rag`)μ—μ„ ν„°λ―Έλ„μ„ μ—΄κ³  λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.

```bash
# κ°€μƒ ν™κ²½ μƒμ„± (vsc_env μ΄λ¦„μΌλ΅ μƒμ„±)
python -m venv vsc_env

# κ°€μƒ ν™κ²½ ν™μ„±ν™” (Windows κΈ°μ¤€)
.\vsc_env\Scripts\Activate

β… ν™•μΈ: ν„°λ―Έλ„ ν”„λ΅¬ν”„νΈ μ•μ— (vsc_env)κ°€ λ‚νƒ€λ‚μ•Ό ν•©λ‹λ‹¤.

2. ν•„μ λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ (ν•„μ)
κ°€μƒ ν™κ²½μ΄ ν™μ„±ν™”λ μƒνƒμ—μ„, μ‹¤ν–‰μ— ν•„μ”ν• λ¨λ“  λΌμ΄λΈλ¬λ¦¬λ¥Ό μ„¤μΉν•©λ‹λ‹¤. device_map="auto" μ„¤μ •μ„ μ„ν•΄ accelerate λΌμ΄λΈλ¬λ¦¬κ°€ λ°λ“μ‹ ν¬ν•¨λμ–΄μ•Ό ν•©λ‹λ‹¤.
pip install pandas numpy torch faiss-cpu rank-bm25 sentence-transformers transformers accelerate

3. λ°μ΄ν„° μ¤€λΉ„
μ¤ν¬λ¦½νΈκ°€ λ΅λ“ν•  μ μλ„λ΅ ν¬λ΅¤λ§ κ²°κ³Ό νμΌμΈ **documents.json**μ„ ν”„λ΅μ νΈ λ£¨νΈ λ””λ ‰ν„°λ¦¬(rag ν΄λ”)μ— μ„μΉμ‹μΌμ•Ό ν•©λ‹λ‹¤.

π€ ν”„λ΅μ νΈ μ‹¤ν–‰
λ¨λ“  λΌμ΄λΈλ¬λ¦¬ μ„¤μΉκ°€ μ™„λ£λμ—λ‹¤λ©΄, λ©”μΈ μ¤ν¬λ¦½νΈ νμΌμ„ μ‹¤ν–‰ν•©λ‹λ‹¤.
python rag_system.py
β οΈ μ‹¤ν–‰ μ‹ μ£Όμ μ‚¬ν•­ λ° FAQ
Q1. μ‹¤ν–‰ ν›„ μ•„λ¬΄ μ‘λ‹µ μ—†μ΄ λ©μ¶”κ±°λ‚ μ‹κ°„μ΄ λ§¤μ° μ¤λ κ±Έλ¦½λ‹λ‹¤. (κ°€μ¥ ν”ν• λ¬Έμ )
A. μ΄λ” μ •μƒμ μΈ κ³Όμ •μ…λ‹λ‹¤. μ¤ν¬λ¦½νΈκ°€ λ‹¤μ λ‘ κ°€μ§€ λ€μ©λ‰ λ¨λΈμ„ λ‹¤μ΄λ΅λ“ν•κ³  λ©”λ¨λ¦¬μ— λ΅λ“ν•λ” λ° μ‹κ°„μ΄ ν•„μ”ν•©λ‹λ‹¤.

μ„λ² λ”© λ¨λΈ λ‹¤μ΄λ΅λ“ (paraphrase-multilingual-MiniLM-L12-v2)

LLM λ¨λΈ λ‹¤μ΄λ΅λ“ λ° λ΅λ“ (Qwen/Qwen3-4B - μ•½ 8GB): νΉν μ²« μ‹¤ν–‰ μ‹ μ΄ λ‹¨κ³„μ—μ„ 5λ¶„μ—μ„ 10λ¶„ μ΄μƒ μ†μ”λ  μ μμµλ‹λ‹¤. >> LLM λ¨λΈ λ΅λ”© μ‹μ‘ λ©”μ‹μ§€κ°€ λ³΄μ΄λ©΄ μΈλ‚΄μ‹¬μ„ κ°–κ³  κΈ°λ‹¤λ ¤ μ£Όμ‹­μ‹μ¤.

Q2. μ¤ν¬λ¦½νΈκ°€ μ‹¤ν–‰λμλ§μ μ¦‰μ‹ μΆ…λ£λ©λ‹λ‹¤.
A. λ‹¤μ μ‚¬ν•­μ„ ν™•μΈν•μ‹­μ‹μ¤.

νμΌ κ²½λ΅: μ‹¤ν–‰ λ…λ Ήμ–΄ python rag_system.pyλ¥Ό μ…λ ¥ν• ν„°λ―Έλ„ κ²½λ΅μ™€ .py νμΌμ μ„μΉκ°€ μ •ν™•ν μΌμΉν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

νμΌ μ €μ¥: VS Codeμ—μ„ μ½”λ“λ¥Ό μμ •ν• ν›„ λ°λ“μ‹ **μ €μ¥(Ctrl+S)**ν–λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

λ°μ΄ν„° νμΌ: documents.json νμΌμ΄ ν„μ¬ λ””λ ‰ν„°λ¦¬μ— μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

Q3. GPUλ¥Ό μ‚¬μ©ν•κ³  μ‹¶μ€λ° κ²½κ³  λ©”μ‹μ§€κ°€ λΉλ‹λ‹¤.
A. μ΄ ν”„λ΅μ νΈλ” device_map="auto" μ„¤μ •μ„ μ‚¬μ©ν•μ—¬ GPU μ‚¬μ©μ„ μ‹λ„ν•©λ‹λ‹¤.

GPUλ¥Ό μ‚¬μ©ν•λ ¤λ©΄ pip install torch λ€μ‹  CUDA μ§€μ› λ²„μ „μ„ μ„¤μΉν•΄μ•Ό ν•©λ‹λ‹¤.

CPU ν™κ²½μ—μ„ μ‹¤ν–‰ν•΄λ„ μ‘λ™ν•μ§€λ§, LLM μ¶”λ΅  μ†λ„κ°€ λ§¤μ° λλ ¤μ§ μ μμµλ‹λ‹¤.

π› οΈ ν…μ¤νΈ μ§λ¬Έ μμ •
rag_system.py νμΌμ λ§¨ λ λ¶€λ¶„μ—μ„ user_questionκ³Ό queryλ¥Ό μμ •ν•μ—¬ λ‹¤μ–‘ν• μ§λ¬ΈμΌλ΅ μ‹μ¤ν…μ„ ν…μ¤νΈν•  μ μμµλ‹λ‹¤.
# rag_system.py νμΌ λ‚΄ μμ • λ¶€λ¶„
user_question = "λ°°ν„°λ¦¬ μ¤λκ°€λ” λ…ΈνΈλ¶ μ¶”μ²ν•΄μ¤" # μ‹¤μ  μ§λ¬Έ
query = "λ°°ν„°λ¦¬" # κ²€μƒ‰μ© ν‚¤μ›λ“/μ§λ¬Έ
